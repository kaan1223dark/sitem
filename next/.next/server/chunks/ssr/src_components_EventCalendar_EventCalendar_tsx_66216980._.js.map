{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hu/Downloads/Compressed/luuppi-next-main4%20-%20Kopya/luuppi-next-main/next/src/components/EventCalendar/EventCalendar.tsx"],"sourcesContent":["'use client';\nimport { Event } from '@/models/event';\nimport { Dictionary, SupportedLanguage } from '@/models/locale';\nimport { SelectedViewContext } from '@/providers/EventSelectorProvider';\nimport fiLocale from '@fullcalendar/core/locales/tr';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport FullCalendar from '@fullcalendar/react';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport { useRouter } from 'next/navigation';\nimport { useContext, useEffect, useRef, useState } from 'react';\nimport './EventCalendar.css';\n\ninterface EventCalendarProps {\n  events: Event[];\n  lang: SupportedLanguage;\n  dictionary: Dictionary;\n}\n\nexport default function EventCalendar({\n  events,\n  lang,\n  dictionary,\n}: EventCalendarProps) {\n  const [isSmallDesktop, setIsSmallDesktop] = useState(false);\n\n  const ctx = useContext(SelectedViewContext);\n  const router = useRouter();\n\n  const currentYear = ctx.activeCalendarMonth.getFullYear();\n  const currentMonth = ctx.activeCalendarMonth.getMonth();\n\n  // Hacky solution to fix overlapping events styling\n  const calendarRef = useRef<FullCalendar>(null);\n\n  const handleEventClick = (e: any) => {\n    const eventId = e.event.id;\n    router.push(`/${lang}/events/${eventId}`);\n  };\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsSmallDesktop(window.innerWidth < 1280);\n      calendarRef?.current?.getApi().updateSize();\n    };\n    window.addEventListener('resize', handleResize);\n    handleResize();\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return (\n    <div\n      className={`${ctx.desktopCalendarFullSize ? 'fixed left-0 top-0 z-50 h-screen w-screen' : ''}`}\n    >\n      <div\n        className={`${ctx.desktopCalendarFullSize ? 'flex h-full w-full bg-white p-6' : ''}`}\n      >\n        <FullCalendar\n          ref={calendarRef}\n          aspectRatio={isSmallDesktop ? 0.8 : 1.35}\n          buttonText={\n            lang === 'tr'\n              ? {\n                  today: 'bugÃ¼n',\n                  month: 'ay',\n                  week: 'hafta',\n                }\n              : {\n                  today: 'today',\n                  month: 'month',\n                  week: 'week',\n                }\n          }\n          customButtons={{\n            toggleSize: {\n              text: ctx.desktopCalendarFullSize\n                ? dictionary.general.zoom_calendar_off\n                : dictionary.general.zoom_calendar_on,\n              click: () =>\n                ctx.setDesktopCalendarFullSize(!ctx.desktopCalendarFullSize),\n            },\n          }}\n          datesSet={(args) => {\n            const visibleStart = new Date(args.start);\n\n            if (visibleStart.getDate() === 1) {\n              ctx.setActiveCalendarMonth(\n                new Date(\n                  visibleStart.getFullYear(),\n                  visibleStart.getMonth(),\n                  1,\n                ),\n              );\n            } else {\n              ctx.setActiveCalendarMonth(\n                new Date(\n                  visibleStart.getFullYear(),\n                  visibleStart.getMonth() + 1,\n                  1,\n                ),\n              );\n            }\n          }}\n          dayHeaderFormat={\n            isSmallDesktop\n              ? {\n                  weekday: 'short',\n                  day: 'numeric',\n                  omitCommas: true,\n                }\n              : {\n                  weekday: 'long',\n                  day: 'numeric',\n                }\n          }\n          dayMaxEventRows={4}\n          dayMaxEvents={4}\n          eventClick={handleEventClick}\n          eventContent={function (arg) {\n            return (\n              <span className=\"tooltip block w-full\" data-tip={arg.event.title}>\n                <p className=\"overflow-hidden pl-[2px] text-left text-xs\">\n                  {arg.timeText}{' '}\n                  <span className=\"font-bold\">{arg.event.title}</span>\n                </p>\n              </span>\n            );\n          }}\n          eventOrderStrict={true}\n          eventTimeFormat={{\n            hour: 'numeric',\n            minute: '2-digit',\n            meridiem: false,\n            hour12: false,\n          }}\n          events={events}\n          headerToolbar={\n            !isSmallDesktop\n              ? {\n                  left: 'prev,next today',\n                  center: 'title',\n                  right: 'dayGridMonth,timeGridWeek toggleSize',\n                }\n              : {\n                  left: 'title',\n                  center: 'prev,next today',\n                  right: 'dayGridMonth toggleSize',\n                }\n          }\n          height={ctx.desktopCalendarFullSize ? '100%' : undefined}\n          initialDate={new Date(currentYear, currentMonth, 1)}\n          initialView={'dayGridMonth'}\n          locale={lang === 'tr' ? fiLocale : ''}\n          plugins={[dayGridPlugin, timeGridPlugin]}\n          slotLabelFormat={{\n            hour: 'numeric',\n            minute: '2-digit',\n            meridiem: false,\n            hour12: false,\n          }}\n          titleFormat={{\n            year: 'numeric',\n            month: 'long',\n          }}\n          weekends={true}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}