module.exports = {

"[project]/.next-internal/server/app/[lang]/(content-pages)/events/page/actions.js [app-rsc] (server actions loader, ecmascript)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
}}),
"[project]/src/app/favicon.ico.mjs { IMAGE => \"[project]/src/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/favicon.ico.mjs { IMAGE => \"[project]/src/app/favicon.ico (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript)"));
}}),
"[project]/src/app/icon1.png.mjs { IMAGE => \"[project]/src/app/icon1.png (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/icon1.png.mjs { IMAGE => \"[project]/src/app/icon1.png (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript)"));
}}),
"[project]/src/app/icon2.png.mjs { IMAGE => \"[project]/src/app/icon2.png (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/icon2.png.mjs { IMAGE => \"[project]/src/app/icon2.png (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript)"));
}}),
"[project]/src/app/apple-icon.png.mjs { IMAGE => \"[project]/src/app/apple-icon.png (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/apple-icon.png.mjs { IMAGE => \"[project]/src/app/apple-icon.png (static in ecmascript)\" } [app-rsc] (structured image object, ecmascript)"));
}}),
"[project]/src/app/[lang]/layout.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/[lang]/layout.tsx [app-rsc] (ecmascript)"));
}}),
"[project]/src/app/[lang]/(content-pages)/layout.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/[lang]/(content-pages)/layout.tsx [app-rsc] (ecmascript)"));
}}),
"[project]/src/app/[lang]/(content-pages)/error.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/[lang]/(content-pages)/error.tsx [app-rsc] (ecmascript)"));
}}),
"[project]/src/components/EventSelector/EventSelector.tsx (client reference/proxy) <module evaluation>": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/EventSelector/EventSelector.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/EventSelector/EventSelector.tsx <module evaluation>", "default");
}}),
"[project]/src/components/EventSelector/EventSelector.tsx (client reference/proxy)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>__TURBOPACK__default__export__)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server-edge.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2d$edge$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/src/components/EventSelector/EventSelector.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/src/components/EventSelector/EventSelector.tsx", "default");
}}),
"[project]/src/components/EventSelector/EventSelector.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$EventSelector$2f$EventSelector$2e$tsx__$28$client__reference$2f$proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/src/components/EventSelector/EventSelector.tsx (client reference/proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$EventSelector$2f$EventSelector$2e$tsx__$28$client__reference$2f$proxy$29$__ = __turbopack_context__.i("[project]/src/components/EventSelector/EventSelector.tsx (client reference/proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$EventSelector$2f$EventSelector$2e$tsx__$28$client__reference$2f$proxy$29$__);
}}),
"[project]/src/libs/strapi/blocks-converter.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "getPlainText": (()=>getPlainText)
});
function getPlainText(block) {
    return block.map((node)=>{
        switch(node.type){
            case 'heading':
                return node.children.map((child)=>child.type === 'text' ? child.text : child.url);
            case 'code':
                return node.children.map((child)=>child.type === 'text' ? child.text : child.url);
            case 'quote':
                return node.children.map((child)=>child.type === 'text' ? child.text : child.url);
            case 'list':
                return node.children.map((child)=>recursiveListRenderer(child)).flatMap((x)=>x);
            case 'paragraph':
                {
                    return node.children.map((child)=>child.type === 'text' ? child.text : child.url);
                }
            default:
                return [];
        }
    }).flatMap((x)=>x).join(' ');
}
function recursiveListRenderer(node) {
    if (node.type === 'list-item') {
        return node.children.map((child)=>child.type === 'text' ? child.text : child.url);
    }
    return node.children.map((child)=>recursiveListRenderer(child));
}
}}),
"[project]/src/libs/strapi/events.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "addEventRegisterationOpensAtInfo": (()=>addEventRegisterationOpensAtInfo)
});
const luuppiMember = process.env.NEXT_PUBLIC_LUUPPI_MEMBER_ID;
const luuppiNonMember = process.env.NEXT_PUBLIC_NO_ROLE_ID;
const addEventRegisterationOpensAtInfo = (acc, event, // eslint-disable-next-line no-unused-vars
formatEvent, dictionary)=>{
    if (!event?.attributes?.Registration?.TicketTypes) {
        return [
            ...acc,
            formatEvent(event)
        ];
    }
    const memberSaleStartsAt = event.attributes.Registration?.TicketTypes.find((type)=>{
        const roleId = type?.Role?.data?.attributes?.RoleId;
        return roleId && [
            luuppiMember,
            luuppiNonMember
        ].includes(roleId);
    });
    if (!memberSaleStartsAt?.RegistrationStartsAt) {
        return [
            ...acc,
            formatEvent(event)
        ];
    }
    return [
        ...acc,
        formatEvent(event),
        formatEvent({
            ...event,
            attributes: {
                ...event.attributes,
                StartDate: new Date(memberSaleStartsAt.RegistrationStartsAt),
                EndDate: new Date(memberSaleStartsAt.RegistrationStartsAt),
                NameEn: `${event.attributes['NameEn']} ${dictionary.general.opens}`,
                NameFi: `${event.attributes['NameFi']} ${dictionary.general.opens}`
            }
        })
    ];
};
}}),
"[project]/src/libs/strapi/format-metadata.ts [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "formatMetadata": (()=>formatMetadata)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$compiled$2f$server$2d$only$2f$empty$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/compiled/server-only/empty.js [app-rsc] (ecmascript)");
;
const formatMetadata = (content, pathname, isNews = false)=>{
    const seo = content.data.attributes.Seo;
    if (!seo) throw new Error('No SEO data found');
    const cmsUrl = ("TURBOPACK compile-time value", "http://localhost:1337");
    let twitterImage = null;
    if (seo.twitter?.twitterImage?.data?.attributes?.url) {
        twitterImage = `${cmsUrl}${seo.twitter.twitterImage.data.attributes.url}`;
    }
    let openGraphImage = null;
    if (seo.openGraph?.openGraphImage?.data?.attributes?.url) {
        openGraphImage = `${cmsUrl}${seo.openGraph.openGraphImage.data.attributes.url}`;
    }
    if (isNews && !openGraphImage) {
        const ogUrl = new URL('https://luuppi-opengraph.vercel.app/api/og');
        ogUrl.searchParams.append('author', seo.metaAuthor ?? 'Luuppi ry');
        ogUrl.searchParams.append('title', seo.metaTitle);
        ogUrl.searchParams.append('published', seo.publishedAt ?? new Date().toISOString());
        ogUrl.searchParams.append('image', 'https://i.pravatar.cc/300');
    }
    return {
        title: `${seo.metaTitle} | Luuppi ry`,
        description: seo.metaDescription,
        authors: {
            name: seo.metaAuthor
        },
        keywords: seo.metaKeywords,
        alternates: {
            canonical: pathname,
            languages: {
                tr: `/tr${pathname.slice(3)}`,
                en: `/en${pathname.slice(3)}`
            }
        },
        openGraph: {
            title: seo.openGraph.openGraphTitle,
            description: seo.openGraph.openGraphDescription,
            url: pathname,
            images: openGraphImage ? [
                openGraphImage
            ] : undefined,
            siteName: 'Luuppi ry'
        },
        twitter: {
            title: seo.twitter.twitterTitle,
            description: seo.twitter.twitterDescription,
            card: 'summary_large_image',
            images: twitterImage ? [
                twitterImage
            ] : undefined
        }
    };
};
}}),
"[project]/src/app/[lang]/(content-pages)/events/page.tsx [app-rsc] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>Events),
    "generateMetadata": (()=>generateMetadata)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$EventSelector$2f$EventSelector$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/components/EventSelector/EventSelector.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$dictionaries$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/dictionaries.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$libs$2f$strapi$2f$blocks$2d$converter$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/libs/strapi/blocks-converter.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$libs$2f$strapi$2f$events$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/libs/strapi/events.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$libs$2f$strapi$2f$format$2d$metadata$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/libs/strapi/format-metadata.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$libs$2f$strapi$2f$get$2d$strapi$2d$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/src/libs/strapi/get-strapi-data.ts [app-rsc] (ecmascript)");
;
;
;
;
;
;
;
async function Events(props) {
    const params = await props.params;
    const dictionary = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$dictionaries$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getDictionary"])(params.lang);
    const sixMonthsAgo = new Date();
    sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);
    const url = `/api/events?filters[StartDate][$gte]=${sixMonthsAgo.toISOString()}&populate=Registration.TicketTypes.Role`;
    const data = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$libs$2f$strapi$2f$get$2d$strapi$2d$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getStrapiData"])(params.lang, url, [
        'event'
    ]);
    // Format event from raw event data
    const formatEvent = (event)=>({
            description: (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$libs$2f$strapi$2f$blocks$2d$converter$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getPlainText"])(event.attributes[params.lang === 'en' ? 'DescriptionEn' : 'DescriptionFi']),
            end: new Date(event.attributes.EndDate),
            start: new Date(event.attributes.StartDate),
            id: event.id.toString(),
            location: event.attributes[params.lang === 'en' ? 'LocationEn' : 'LocationFi'],
            title: event.attributes[params.lang === 'en' ? 'NameEn' : 'NameFi'],
            hasTickets: Boolean(event.attributes.Registration?.TicketTypes.length)
        });
    const events = data.data.reduce((acc, event)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$libs$2f$strapi$2f$events$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["addEventRegisterationOpensAtInfo"])(acc, event, formatEvent, dictionary), []);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "relative",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("h1", {
                className: "mb-12",
                children: dictionary.navigation.events
            }, void 0, false, {
                fileName: "[project]/src/app/[lang]/(content-pages)/events/page.tsx",
                lineNumber: 64,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$src$2f$components$2f$EventSelector$2f$EventSelector$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
                dictionary: dictionary,
                events: events,
                lang: params.lang
            }, void 0, false, {
                fileName: "[project]/src/app/[lang]/(content-pages)/events/page.tsx",
                lineNumber: 65,
                columnNumber: 7
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "luuppi-pattern absolute -left-48 -top-10 -z-50 h-[701px] w-[801px] max-md:left-0 max-md:h-full max-md:w-full max-md:rounded-none"
            }, void 0, false, {
                fileName: "[project]/src/app/[lang]/(content-pages)/events/page.tsx",
                lineNumber: 70,
                columnNumber: 7
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/src/app/[lang]/(content-pages)/events/page.tsx",
        lineNumber: 63,
        columnNumber: 5
    }, this);
}
async function generateMetadata(props) {
    const params = await props.params;
    const url = '/api/events-calendar?populate=Seo.twitter.twitterImage&populate=Seo.openGraph.openGraphImage';
    const tags = [
        'events-calendar'
    ];
    const data = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$libs$2f$strapi$2f$get$2d$strapi$2d$data$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getStrapiData"])(params.lang, url, tags);
    const pathname = `/${params.lang}/events`;
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$src$2f$libs$2f$strapi$2f$format$2d$metadata$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["formatMetadata"])(data, pathname);
}
}}),
"[project]/src/app/[lang]/(content-pages)/events/page.tsx [app-rsc] (ecmascript, Next.js server component)": ((__turbopack_context__) => {

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.n(__turbopack_context__.i("[project]/src/app/[lang]/(content-pages)/events/page.tsx [app-rsc] (ecmascript)"));
}}),

};

//# sourceMappingURL=_1f9906d7._.js.map